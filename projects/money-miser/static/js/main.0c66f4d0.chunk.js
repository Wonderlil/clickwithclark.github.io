(this["webpackJsonpmoney-miser-react"]=this["webpackJsonpmoney-miser-react"]||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(10),s=n.n(r),i=n(0),o=function(){return Object(i.jsxs)("div",{className:"header-container",children:[Object(i.jsx)("h2",{children:"MONEY"}),Object(i.jsx)("img",{src:"./img/money-mi$er-logo_official.png",className:"logo",alt:"Logo"}),Object(i.jsx)("h2",{children:"MI$ER"})]})},u=n(4),l=n(7),j=n(6),d=n(2),m=n(11),b=n(3),O=n.n(b);function f(e){localStorage.setItem("transactions",JSON.stringify(e))}function h(){var e;return null!==(e=JSON.parse(localStorage.getItem("transactions")))&&void 0!==e?e:{}}var v=function(e){var t=e.amount,n=e.date,a=e.id,r=e.name,s=e.type,o=e.onDeleteBtn,u=Object(c.useState)(["statement-overview"]),l=Object(d.a)(u,2),j=l[0],m=(l[1],Object(c.useState)(!1)),b=Object(d.a)(m,2),O=b[0],f=b[1],h=function(e){f(!1)},v=Object(c.useRef)(null);return Object(c.useEffect)((function(){document.addEventListener("click",(function(e){return function(e,t){var n;null!==t&&void 0!==t&&null!==(n=t.current)&&void 0!==n&&n.contains(e.target)||h()}(e,v)}))}),[v]),Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:j.join(" "),onPointerUp:function(e){f(!0)},ref:v,children:[Object(i.jsx)("button",{className:O?"delete-btn delete-btn--visible":"delete-btn","data-id":a,type:"button",onPointerUp:function(e){return o(e)},onBlur:function(e){return h()},children:"\u2716"}),Object(i.jsx)("div",{className:"statement-date",children:n.day}),Object(i.jsxs)("div",{className:"statement-name-type",children:[Object(i.jsx)("div",{className:"statement-name",children:r}),Object(i.jsx)("div",{className:"statement-type",children:s})]}),Object(i.jsx)("div",{className:"statement-amount ".concat("Income"===s?"plus":"minus"),children:t})]})})},x=function(e){var t=e.statements,n=e.date,c=e.onDeleteBtn;return Object(i.jsxs)("div",{className:"transaction-group",children:[Object(i.jsx)("h2",{className:"group-heading",children:n}),Object.keys(t).map((function(e){return Object(i.jsx)(v,Object(u.a)(Object(u.a)({},t[e]),{},{onDeleteBtn:c}),e)}))]})};var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e&&e[0].toUpperCase()+e.slice(1)};h();var y=function(){var e,t=h(),n=Object(c.useState)("0.00"),a=Object(d.a)(n,2),r=a[0],s=a[1],o=Object(c.useState)("0.00"),b=Object(d.a)(o,2),v=b[0],y=b[1],g=Object(c.useState)("0.00"),N=Object(d.a)(g,2),S=N[0],E=N[1],D=Object(c.useState)(""),I=Object(d.a)(D,2),B=I[0],Y=I[1],k=Object(c.useState)(""),M=Object(d.a)(k,2),F=M[0],P=M[1],U=Object(c.useState)(O()().format("YYYY-MM-DD")),$=Object(d.a)(U,2),w=$[0],C=$[1],J=Object(c.useState)(t),L=Object(d.a)(J,2),R=L[0],A=L[1],V=Object(c.useState)([]),_=Object(d.a)(V,2),q=_[0],z=_[1],G=Object(c.useState)(["statement-container"]),H=Object(d.a)(G,2),K=H[0],Q=H[1];Object(c.useEffect)((function(){z(function(e){var t=[];return Object.keys(e).forEach((function(n){t=[].concat(Object(j.a)(t),Object(j.a)(["".concat(e[n].date.month," ").concat(e[n].date.year)].filter((function(e){return!t.includes(e)}))))})),t.sort((function(e,t){return O()(e).isBefore(O()(t))?1:-1})),t}(R)),Object.keys(t).length>2?Q([].concat(Object(j.a)(K),["scroll"])):Q(K.filter((function(e){return"scroll"!==e})))}),[R]),Object(c.useEffect)((function(){var e=[];Object.keys(R).forEach((function(t){return e.push(R[t].amount)}));var t=e.reduce((function(e,t){return e+t}),0).toFixed(2);E(t);var n=e.filter((function(e){return e>0})).reduce((function(e,t){return e+t}),0).toFixed(2);s(n);var c=(-1*e.filter((function(e){return e<0})).reduce((function(e,t){return e+t}),0)).toFixed(2);y(c)}),[R]);var T=function(e){var t=e.target.dataset.id,n=h();delete n[t],f(n),A(n)};return Object(i.jsxs)("div",{className:"container",children:[Object(i.jsxs)("div",{className:"balance-inc-exp-container",children:[Object(i.jsxs)("div",{className:"balance-container",children:[Object(i.jsx)("h4",{children:"Your Balance"}),Object(i.jsxs)("p",{id:"balance",children:["$",S]})]}),Object(i.jsxs)("div",{className:"income-container",children:[Object(i.jsx)("h4",{children:"Income"}),Object(i.jsxs)("p",{id:"money-plus",className:"money plus",children:["+$",r]})]}),Object(i.jsxs)("div",{className:"expense-container",children:[Object(i.jsx)("h4",{children:"Expense"}),Object(i.jsxs)("p",{id:"money-minus",className:"money minus",children:["-$",v]})]})]}),Object(i.jsx)("h3",{children:"Statements"}),Object(i.jsx)("div",{className:K.join(" "),children:q.map((function(e,t){var n=function(e,t){var n={};return Object.keys(e).forEach((function(c){if("".concat(e[c].date.month," ").concat(e[c].date.year)===t)return n[c]=e[c]})),n}(R,e);return Object(i.jsx)(x,{statements:Object(u.a)({},n),date:e,onDeleteBtn:T},t)}))}),Object(i.jsx)("h3",{children:"Add New Statement"}),Object(i.jsxs)("form",{id:"form",onSubmit:function(t){return function(t){t.preventDefault();var n=document.getElementById("name"),c=document.getElementById("amount"),a=h();if(e)if(""===n.value.trim()||""===c.value.trim())alert("Please add a name and amount");else{var r={id:m.a.generateID(),name:p(n.value.trim()),amount:+parseFloat("+"===e?c.value:-1*c.value).toFixed(2),type:"+"===e?"Income":"Expense",date:{day:O()(w).format("DD"),month:O()(w).format("MMM"),year:O()(w).format("YYYY")}};Object.assign(a,Object(l.a)({},r.id,r)),f(a),A(a),P(""),Y("")}else alert("Please ensure statement is Income or Expense")}(t)},children:[Object(i.jsx)("div",{className:"form-control",children:Object(i.jsx)("input",{type:"text",id:"name",placeholder:"Enter name...",onChange:function(e){return P(e.target.value)},value:F})}),Object(i.jsx)("div",{className:"form-control",children:Object(i.jsx)("input",{type:"number",id:"amount",placeholder:"Enter amount...",step:"0.01",onChange:function(e){return Y(e.target.value)},value:B})}),Object(i.jsx)("div",{className:"form-control",children:Object(i.jsx)("input",{type:"date",className:"date-picker",id:"date",onChange:function(e){return C(e.target.value)},defaultValue:w,min:"2000-01-01",step:"0.01"})}),Object(i.jsxs)("div",{className:"income-or-expense-container",children:[Object(i.jsx)("button",{className:"income-btn",onPointerUp:function(t){return function(t){t.preventDefault(),e="+"}(t)},type:"submit",children:"income"}),Object(i.jsx)("button",{className:"expense-btn",onPointerUp:function(t){return function(t){t.preventDefault(),e="-"}(t)},type:"submit",children:"expense"})]})]})]})},g=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(o,{}),Object(i.jsx)(y,{})]})};n(17);s.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(g,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.0c66f4d0.chunk.js.map